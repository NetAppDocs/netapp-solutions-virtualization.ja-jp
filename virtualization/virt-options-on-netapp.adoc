---
sidebar: sidebar 
permalink: virtualization/virt-options-on-netapp.html 
keywords: virtualization, overview, options, vmware, alternatives, hyperv, proxmox, openshift 
summary: このドキュメントでは、仮想化ソリューションに関係なく、 NetApp が仮想化環境に最適なプラットフォームである理由の概要を説明します。 
---
= NetApp をあらゆる仮想化ソリューションに使用する方法を学ぶ
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
NetApp ONTAP が、特に最近の VMware ライセンスの変更に応じて、仮想化のための堅牢な基盤をどのように提供するかをご覧ください。  VMware 環境を最適化し、VMware Cloud Foundation または代替ハイパーバイザーに移行し、NetApp の高度なデータ管理、保護、クラウド統合機能を活用するための戦略を検討します。



== はじめに

VMware の最近のライセンス変更を考慮すると、組織は仮想化戦略を調整して、コスト効率とスケーラビリティを最大化し、ビジネス リスクを最小化する必要があります。既存の VMware 環境を最適化し、既存のエンタープライズ ストレージを使用してスタンドアロン vSphere から VMware Cloud Foundation (VCF) への移行を検討し、マルチハイパーバイザーまたはハイブリッド クラウド アプローチを採用することが、重要なステップです。特に、VCF 5.2.1 では、vSAN の代わりに外部ストレージ ソリューションを使用できるようにすることで柔軟性が向上し、組織はエンタープライズ ストレージ機能を使用しながら継続性を維持しながら、新しいライセンス モデルを簡単に導入できるようになりました。

ONTAP は、オンプレミスまたはクラウドのあらゆるハイパーバイザーに最適なプラットフォームです。 ONTAP は、オンプレミス環境のすべての主要なハイパーバイザーをサポートし、各主要クラウドでファーストパーティ データ サービスを備え、VMware クラウド サービスとクラウド ネイティブ ワークロードをサポートします。これにより、組織はワークロードに適した展開モデルを選択することで、ライセンスの変更に簡単に対応できるようになります。

このホワイト ペーパーでは、VMware 導入コストを最適化する戦略の概要、マルチハイパーバイザーの導入の評価、vSphere から VCF への VM の移行、代替ハイパーバイザーへの VM の移行について詳細に説明し、利用可能なすべてのオプションを網羅しています。



== 何が変わったか

Broadcom による VMware の買収により、VMware のライセンス モデルに大きな変化が起こりました。新しいアプローチは、業界の傾向に沿ってサブスクリプションベースのバンドル価格設定構造に移行していますが、顧客のコストが大幅に増加すると予想されます。以下に留意すべき 3 つの重要なポイントを示します。

*サブスクリプション ベースのライセンス*: VMware は永久ライセンスからサブスクリプション ベースのモデルに移行しています。

*バンドル パッケージ*: VMware Cloud Foundation (VCF) は、企業およびサービス プロバイダー向けに複数の製品を 1 つのサービスにバンドルします。

*ソケット単位からコア単位へ*: ソケット単位から CPU コア単位の価格設定への移行は、コストが大幅に増加する可能性がある重大な変更を示しています。

*重要なポイント* - これらの変更により、顧客は仮想化のニーズを評価し、より効果的に使用率を最適化し、代替オプションを検討するようになります。



== ONTAPを選ぶ理由

NetAppストレージ ソリューションは、仮想化インフラストラクチャのすべての利点を顧客が最大限に活用できるようにします。  NetAppソリューションを利用すると、顧客は包括的なデータ管理ソフトウェアを迅速に導入し、自動化、効率化、データ保護、最先端のセキュリティ機能を実現しながら、厳しいパフォーマンス ニーズにも対応できます。  ONTAPソフトウェアと VMware vSphere を組み合わせることで、ホスト ハードウェアと VMware ライセンスの費用を削減し、低コストでデータを保護し、一貫して高いパフォーマンスを実現できます。

仮想化されたワークロードは本質的に動的です。したがって、管理者は VMware Storage vMotion を使用して、同じストレージ システム内の VMFS、NFS、またはvVolsデータストア間で VM を移行します。これにより、オールフラッシュ システムや最新のASAモデルなどのさまざまなストレージ戦略を検討し、SAN のイノベーションを活用してコスト効率を向上させることができます。

image:virt-options-001.png["NetApp ONTAPのメリットの図"]

ONTAPストレージ ソリューションには、次の利点があります。

* *独立したスケーリング:* ワークロード データの管理、保護、モビリティを vSphere に統合されたストレージにオフロードすることで、コンピューティング能力を追加することなくストレージを拡張できます。
* *超高速パフォーマンス:* 最先端の NVMe およびASAアーキテクチャにより、1 ミリ秒未満のレイテンシと高いスループットを実現します。従来の VM と最新の Kubernetes または AI デプロイメント向けにフラッシュ、NVMe、GPU のパフォーマンスを最適化します。
* *包括的なデータ サービス:* 組み込み機能を使用してデータを圧縮、重複排除、コンパクト化し、ストレージ容量を 5 ～ 30 分の 1 に削減し、データ センターの効率を 85 ～ 90% 向上します。
* *シームレスなクラスタリングと高可用性:* SnapMirrorアクティブ シンクまたはMetroClusterを利用して、簡単にストレッチ クラスタリングと堅牢な災害復旧を実現します。
* *マルチプロトコル:* ONTAP は、NFS、iSCSI、SMB、S3 などの複数のプロトコルを介したデータへのアクセスをサポートします。ONTAP を実行するシステムは、いくつかの重要な方法で統合されています。もともとこのアプローチは NAS プロトコルと SAN プロトコルの両方を指しており、 ONTAP はNAS における本来の強みとともに、SAN の主要プラットフォームであり続けています。
* *自動プロビジョニングとオーケストレーション:* VMware 用のONTAPツールとその REST API、vSphere プラグイン、SPBM (ストレージ ポリシー) を活用して、ストレージ管理を自動化および合理化します。
* *統合データ保護と低コストの災害復旧:* NetApp SnapCenterを使用して、仮想ワークロードのバックアップと復元をオフロードします。NetApp Disaster Recoveryを活用して、RPO を下げ、RTO を削減したデータ レプリケーションを実現します。これにより、高価な代替インフラストラクチャの必要性がなくなり、VMware ワークロードに対する手頃な価格の災害保護が提供されます。オンプレミスからオンプレミスのNetApp ONTAP環境、または VMware Cloud に至るまで、 NetApp搭載ストレージは堅牢な保護を保証します。
* *ランサムウェア検出:* 多要素認証、ロールベースのアクセス、包括的なログ記録、ユーザー動作の異常検出を有効にすることで、組み込みの自律ランサムウェア保護とゼロトラスト互換性により、VMware レベルのセキュリティとコンプライアンスをデータに拡張し、保護、検出、修復、リカバリ機能を向上させます。
* *統合ハイブリッド クラウド:* ワークロードのモビリティ、バックアップと復元、および災害復旧をあらゆるハイパースケーラー クラウド (Elastic VMware Service、Azure VMware Solution、Google Cloud VMware Engine) に簡素化および統合します。
* *ストレージ ライフサイクル プログラム (SLP):* 組織が準備できている場合は、中断することなく次世代コントローラーにアップグレードするか、クラウド ストレージを選択します。




=== 重要なポイント

* ONTAP を使用すると、ストレージ効率、暗号化、スナップショットなどの CPU を集中的に使用するタスクをオフロードして、ESXi ホストの CPU への影響とオーバーヘッドを排除できます。この最適化により、各ホストで必要なコア数が少なくなり、総所有コスト (TCO) が削減されます。
* ONTAPを使用すると、初期容量から始めて、優れたデータ削減および移動技術を活用し、新しいホストを追加せずにコストを 20 ～ 50% 削減できます。
* ONTAPストレージは、特定のクラスタに制限されずに複数のワークロード ドメインで使用できるため、複数のクラスタ全体の使用率が向上します。
* SnapCenterと統合されたONTAP Snapshot は、VM レベルとデータストア レベルのバックアップ、およびきめ細かなリストアの両方に対して、優れた無償のデータ保護を提供します。さらに、 ONTAP、スナップショットをオブジェクト ストレージにオフロードして長期保存することが可能です。
* RAID やストレージ プールを構成する必要がなく、継続的なデータ削減と暗号化を備えたシームレスなストレージを体験できます。
* ONTAP One を使用すると、ライセンスの障壁なしにすべてのONTAP機能と強力なセキュリティにアクセスできます。NetApp Disaster Recoveryと組み合わせると、コストがさらに削減されます。




== 適正規模化と最適化

これらのライセンスの変更が有効になると、すべての IT 組織は、総所有コスト (TCO) が 10 倍以上増加する可能性があるというストレスにさらされます。適切に最適化された VMware 環境は、ライセンス費用を抑えながらパフォーマンスを最大化します。これにより、効果的なリソース管理と容量計画が保証されます。適切なツールセットを使用すると、無駄になっているリソースやアイドル状態のリソースを迅速に特定してコアを再利用できるため、コア数が減り、全体的なライセンス コストが削減されます。

NetApp は、これらの課題を克服するための強力なツール スイートを提供し、強化された可視性、シームレスな統合、コスト効率、堅牢なセキュリティを実現します。これらの機能を活用することで、組織はこの混乱の中でも生き残り、さらには繁栄し、将来起こるあらゆる課題に備えることができるようになります。注: ほとんどの組織は、クラウド評価の一環としてこれをすでに実行しており、オンプレミス環境でのコストパニックを回避し、代替ハイパーバイザーへの感情的な移行コストを節約するのに役立つのも同じプロセスとツールであることに注意してください。



=== NetAppのメリット



==== NetApp TCO Estimator: NetAppの無料TCO見積もりツール

* シンプルなHTMLベースの計算機
* NetApp VMDC、RVTools、または手動入力方法を使用
* NetApp ONTAPストレージ システムを使用して、特定の展開に必要なホストの数を簡単に予測し、展開を最適化するための節約を計算します。
* 節約できる金額を表示



NOTE: そのlink:https://tco.solutions.netapp.com/vmwntaptco/["TCO見積もりツール"]NetApp のフィールド チームとパートナーのみがアクセスできます。  NetAppアカウント チームと連携して、既存の環境を評価します。



==== VM データ コレクター (VMDC): NetApp の無料 VMware 評価ツール

* 軽量で、ポイントインタイムの構成およびパフォーマンス データの収集
* Webインターフェースを使用したシンプルなWindowsベースの導入
* VMトポロジの関係を視覚化し、Excelレポートをエクスポートします
* VMwareコアライセンスの最適化を特にターゲットとしています


VMDCが利用可能link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector/["ここをクリックしてください。"]。



==== Data Infrastructure Insights(旧Cloud Insights)

* ハイブリッド/マルチクラウド環境全体にわたる SaaS ベースの継続的な監視
* Pure、Dell、HPE ストレージ システム、vSAN などの異機種環境をサポートします。
* 孤立した VM と未使用のストレージ容量を識別する AI/ML を活用した高度な分析機能を備えており、VM 再利用に関する詳細な分析と推奨事項を展開できます。
* 移行前に VM のサイズを適正化し、移行前、移行中、移行後に重要なアプリケーションが SLA を満たしていることを保証するためのワークロード分析機能を提供します。
* 30日間の無料トライアル期間あり


DII を使用すると、リアルタイム メトリックを使用して仮想マシン全体のワークロード IO プロファイルを詳細に分析できます。


NOTE: NetApp は、 NetAppアーキテクチャおよび設計サービスの機能である仮想化近代化評価と呼ばれる評価を提供します。すべての VM は、CPU 使用率とメモリ使用率の 2 つの軸にマッピングされます。ワークショップでは、オンプレミスの最適化とクラウド移行戦略の両方についてすべての詳細が顧客に提供され、リソースの有効活用とコスト軽減が促進されます。これらの戦略を実装することで、組織はコストを効果的に管理しながら、高パフォーマンスの VMware 環境を維持できます。



==== 重要なポイント

VMDC は、異機種環境全体で継続的な監視と高度な AI/ML 駆動型分析を行うための DII を実装する前の、迅速な最初の評価ステップとして機能します。



==== VCFインポートツール: NFSまたはFCを主ストレージとしてVCFを実行する

VMware Cloud Foundation (VCF) 5.2 のリリースでは、既存の vSphere インフラストラクチャを VCF 管理ドメインに変換し、追加のクラスターを VCF VI ワークロード ドメインとしてインポートする機能が追加されました。これにより、vSAN を使用する必要がなく、VMware Cloud Foundation (VCF) をNetAppストレージ プラットフォーム上で完全に実行できるようになりました (そうです、これらすべてを vSAN なしで実行できます)。 ONTAP上で実行されている既存の NFS または FC データストアを使用してクラスターを変換するには、既存のインフラストラクチャを最新のプライベート クラウドに統合する必要があるため、vSAN は必要ありません。このプロセスは、NFS および FC ストレージの柔軟性を活用し、シームレスなデータ アクセスと管理を保証します。変換プロセスを通じて VCF 管理ドメインが確立されると、管理者は NFS または FC データストアを使用するものも含め、追加の vSphere クラスタを VCF エコシステムに効率的にインポートできます。この統合により、リソースの使用率が向上するだけでなく、プライベート クラウド インフラストラクチャの管理が簡素化され、既存のワークロードの中断を最小限に抑えながらスムーズな移行が可能になります。


NOTE: 主ストレージとして使用する場合、NFS v3 および FC プロトコルのみをサポートします。補助ストレージには、vSphere でサポートされている NFS プロトコル v3 または 4.1 を使用できます。



==== 重要なポイント:

既存の ESXi クラスターをインポートまたは変換すると、既存のONTAPストレージをデータストアとして活用できるようになり、vSAN や追加のハードウェア リソースを展開する必要がなく、VCF のリソース効率が向上し、コストが最適化され、簡素化されます。



==== ONTAPストレージを使用した既存の vSphere から VCF への移行

VMware Cloud Foundation がグリーンフィールド インストール（新しい vSphere インフラストラクチャと Single Sign-On ドメインの作成）である場合、古いバージョンの vSphere で実行されている既存のワークロードは Cloud Foundation から管理できません。最初のステップは、既存の vSphere 環境で実行されている現在のアプリケーション VM を Cloud Foundation に移行することです。移行パスは、移行の選択肢 (ライブ、ウォーム、コールド) と、既存の vSphere 環境のバージョンによって異なります。以下は、ソース ストレージに応じた優先順位のオプションです。

* HCX は、Cloud Foundation ワークロード モビリティに現在利用できる最も機能が豊富なツールです。
* NetApp Disaster Recoveryを活用する
* SRM を使用した vSphere レプリケーションは、使いやすい vSphere 移行ツールになります。
* VAIOとVADPを使用してサードパーティ製ソフトウェアを使用する




==== NetApp以外のストレージからONTAPストレージへのVMの移行

ほとんどの場合、最も簡単な方法は Storage vMotion を使用することです。クラスターは、新しいONTAP SAN または NAS データストアと、VM の移行元となるストレージ (SAN、NAS など) の両方にアクセスできる必要があります。プロセスは簡単です。vSphere Web Client で 1 つ以上の仮想マシンを選択し、選択した仮想マシンを右クリックして [移行] をクリックします。ストレージのみのオプションを選択し、新しいONTAPデータストアを移行先として選択し、移行ウィザードの最後の手順に進みます。vSphereは、VMX、 NVRAM、VMDKなどのファイルを古いストレージからONTAPベースのデータストアにコピーします。 vSphere は大量のデータをコピーする可能性があることに注意してください。この方法ではダウンタイムは必要ありません。 VM は移行中も引き続き実行されます。その他のオプションには、ホストベースの移行や、移行を実行するためのサードパーティのレプリケーションなどがあります。



==== ストレージ スナップショットを使用した災害復旧 (ストレージ レプリケーションによるさらなる最適化)

NetApp は、コストを大幅に削減し、複雑さを軽減できる業界をリードする SaaS ベースの災害復旧ソリューションを提供します。高価な代替インフラストラクチャを取得して導入する必要はありません。

運用サイトから災害復旧サイトへのブロックレベルのレプリケーションを通じて災害復旧を実装することは、サイトの停止やランサムウェア攻撃などのデータ破損イベントからワークロードを保護するための、回復力がありコスト効率に優れた方法です。NetApp SnapMirrorレプリケーションを使用すると、NFS または VMFS データストアを備えたオンプレミスのONTAPシステムで実行されている VMware ワークロードを、VMware も導入されている指定されたリカバリ データセンターにある別のONTAPストレージ システムに複製できます。

NetApp Consoleに統合されているNetApp Disaster Recovery を使用すると、オンプレミスの VMware vCenter とONTAPストレージの検出、リソース グループの作成、災害復旧計画の作成、リソース グループへの関連付け、フェイルオーバーとフェイルバックのテストや実行を行うことができます。  NetApp Disaster Recovery は、ONTAP のFlexCloneテクノロジーを活用して、DR サイトで最後に複製されたスナップショットから NFS または VMFS データストアのスペース効率の高いコピーを作成します。 実際のフェイルオーバー（計画的または計画外）が必要な場合、数回クリックするだけで、 NetApp Disaster Recovery は、指定されたディザスタ リカバリ サイトで保護された仮想マシンを自動的に起動するために必要なすべての手順を調整します。SnapMirror は、ストレージ レベルのブロック レプリケーションを提供し、2 つのサイトを増分変更で最新の状態に保ち、RPO を最大 5 分に抑えます。また、本番環境や複製されたデータストアに影響を与えたり、追加のストレージ コストが発生したりすることなく、定期的な訓練として DR 手順をシミュレートすることもできます。NetApp Disaster Recoveryは、ONTAPのFlexCloneテクノロジを利用して、DRサイトで最後にレプリケートされたSnapshotからNFSまたはVMFSデータストアのスペース効率に優れたコピーを作成します。DR テストが完了したら、テスト環境を削除するだけで済みます。この場合も、実際に複製された本番リソースには影響しません。実際のフェイルオーバー(計画的または計画外)が必要な場合、NetApp Disaster Recoveryが、指定されたディザスタ リカバリ サイトで保護対象の仮想マシンを自動的に起動するために必要なすべての手順を数回のクリックでオーケストレーションします。このサービスは、必要に応じて、プライマリ サイトとのSnapMirror関係を逆転させ、フェイルバック操作のためにセカンダリ サイトからプライマリ サイトに変更を複製します。これらすべては、他のよく知られた代替手段に比べて、ほんのわずかなコストで実現できます。


NOTE: レプリケーション機能と VMware Live Recovery with SRA をサポートするサードパーティのバックアップ製品も、他の主要な代替オプションです。



==== ランサムウェア

ランサムウェアをできるだけ早く検出することは、その拡散を防ぎ、コストのかかるダウンタイムを回避するために重要です。効果的なランサムウェア検出戦略には、ESXi ホストおよびゲスト VM レベルで複数の層の保護を組み込む必要があります。ランサムウェア攻撃に対する包括的な防御を実現するために複数のセキュリティ対策が実装されていますが、 ONTAP を使用すると、全体的な防御アプローチにさらに多くの保護層を追加できます。いくつかの機能を挙げると、スナップショット、自律ランサムウェア保護、改ざん防止スナップショットなどがあります。

上記の機能が VMware と連携して、ランサムウェアからデータを保護し、回復する方法を見てみましょう。

vSphere とゲスト VM を攻撃から保護するには、セグメント化、エンドポイントでの EDR/XDR/SIEM の利用、セキュリティ アップデートのインストール、適切な強化ガイドラインの遵守など、いくつかの対策を講じることが不可欠です。データストアに存在する各仮想マシンは、標準のオペレーティング システムもホストします。多層ランサムウェア保護戦略の重要な要素である、エンタープライズ サーバー マルウェア対策製品スイートがインストールされ、定期的に更新されていることを確認します。これに加えて、データストアに電力を供給する NFS ボリューム上で Autonomous Ransomware Protection (ARP) を有効にします。  ARP は、ボリューム ワークロード アクティビティとデータ エントロピーを調べる組み込みオンボックス ML を活用して、ランサムウェアを自動的に検出します。  ARP は、 ONTAPの組み込み管理インターフェイスまたはシステム マネージャを通じて設定でき、ボリュームごとに有効化されます。

多層アプローチに加えて、バックアップ スナップショット コピーの不正な削除を防ぐためのネイティブの組み込みONTAPソリューションもあります。これはマルチ管理者検証または MAV と呼ばれ、 ONTAP 9.11.1 以降で使用できます。理想的なアプローチは、MAV 固有の操作にクエリを使用することです。


NOTE: 新しいNetApp ARP/AI では、学習モードは必要ありません。代わりに、AI を活用したランサムウェア検出機能により、すぐにアクティブ モードに移行できます。



==== 重要なポイント

ONTAP One では、追加レイヤーとして機能するすべてのセキュリティ機能セットが完全に無料です。ライセンスの障壁を気にすることなく、NetApp の強力なデータ保護、セキュリティ、およびONTAP が提供するすべての機能にアクセスできます。



== VMwareの代替品を検討

すべての組織は、マルチベンダー ハイパーバイザ戦略をサポートし、運用の柔軟性を強化し、ベンダーへの依存を軽減し、ワークロードの配置を最適化するマルチハイパーバイザ アプローチを評価しています。複数のハイパーバイザーを組み合わせることで、組織はコストを管理しながら、さまざまなワークロードの需要を満たすインフラストラクチャをカスタマイズできます。組織は相互運用性、コスト効率の高いライセンス、自動化を活用して、マルチハイパーバイザーの管理を合理化します。 ONTAPは、あらゆるハイパーバイザー プラットフォームに最適なプラットフォームです。このアプローチの重要な要件は、SLA とワークロード配置戦略に基づいた動的な仮想マシンのモビリティです。



=== マルチハイパーバイザー導入における重要な考慮事項

* *戦略的なコスト最適化:* 単一ベンダーへの依存を減らすことで、運用およびライセンス費用が最適化されます。
* *ワークロードの分散:* 適切なワークロードに適切なハイパーバイザーを導入することで、効率が最大化されます。
* *柔軟性:* データ センターの近代化と統合に加え、ビジネス アプリケーション要件に基づいた VM の最適化をサポートします。


このセクションでは、組織が検討しているさまざまなハイパーバイザーを優先順位に従って簡単に説明します。


NOTE: これらは組織が検討する一般的な代替オプションですが、優先順位は顧客の評価、スキルセット、ワークロードの要件に基づいて顧客ごとに異なります。

image:virt-options-002.png["NetAppがサポートする仮想化オプションの図"]



=== Hyper-V (Windows Server)

詳しく見てみましょう:

* Windows Server バージョンに組み込まれているよく知られた機能です。
* Windows Server 内の仮想マシンの仮想化機能を有効にします。
* System Center スイート (SCVMM および SCOM を含む) の機能と統合すると、Hyper-V は他の仮想化ソリューションに匹敵する包括的な機能セットを提供します。




==== 統合

* NetApp SMI-S Providerは、 SAN と NAS の両方の動的ストレージ管理を System Center Virtual Machine Manager (SCVMM) と統合します。
* 多くのサードパーティ バックアップ パートナーも、 ONTAPスナップショットとSnapMirrorサポートの統合をサポートしており、アレイ ネイティブのバックアップとリカバリを完全に最適化します。
* ONTAP は、柔軟性とストレージ消費のために SAN と NAS 間のネイティブ コピー オフロードを可能にする唯一のデータ インフラストラクチャ システムであり、またONTAP はNAS (SMB/CIFS 経由の SMB3 TRIM) と SAN (SCSI UNMAP を使用した iSCSI および FCP) の両方のプロトコルにわたってネイティブのスペース再利用も提供します。
* きめ細かなバックアップとリカバリを実現するSnapManager for Hyper-V (PVR サポートが必要)。  Hyper-V は次のような場合に有効な選択肢となります。
* 最近、新しいハードウェアにアップグレードしたか、オンプレミスのインフラストラクチャに多額の投資を行いました。
* ストレージに SAN または NAS を使用する (Azure Stack HCI はオプションではありません)
* ストレージとコンピューティングを独立して拡張する必要があるハードウェア投資、政治的状況、規制遵守、アプリケーション開発、その他の既存の障害などの要因により、最新化が不可能




=== OpenShift Virtualization（RedHat KubeVirt実装）

詳しく見てみましょう:

* KVMハイパーバイザーを使用し、コンテナ内で実行し、ポッドとして管理する
* Kubernetes によってスケジュール、デプロイ、管理される
* OpenShift Web インターフェースを使用して、仮想マシンとそのリソースを作成、変更、破棄します。
* 永続的なストレージ パラダイムのために、コンテナー オーケストレーターのリソースおよびサービスと統合されています。




==== 統合

* Trident CSI を使用すると、VM 単位かつクラスフルな方法で、NFS、FC、iSCSI、NVMe/TCP 上のストレージを動的に管理できます。
* プロビジョニング、スナップショット作成、ボリューム拡張、クローン作成のためのTrident CSI
* Trident Protect は、OpenShift Virtualization VM のクラッシュ整合性のあるバックアップと復元をサポートし、それらを S3 互換のオブジェクト ストレージ バケットに保存します。
* Trident Protect は、OpenShift Virtualization VM のストレージ レプリケーションと自動フェイルオーバーおよびフェイルバックによる災害復旧も提供します。


OpenShift Virtualization は次のような場合に適しています。

* 仮想マシンとコンテナを単一のプラットフォームに統合します。
* OpenShift 仮想化は OpenShift の一部であり、すでにコンテナ ワークロードのライセンスが付与されている可能性があるため、ライセンスのオーバーヘッドを削減します。
* 初日から完全なリファクタリングを行わずに、レガシー VM をクラウド ネイティブ エコシステムに移行します。




=== Proxmox 仮想環境 (Proxmox VE)

詳しく見てみましょう:

* Qemu KVMおよびLXC向けの包括的なオープンソース仮想化プラットフォーム
* LinuxディストリビューションDebianをベースにした
* スタンドアロンマシンとしても、複数のマシンで構成されるクラスターとしても動作可能
* 仮想マシンとコンテナのシンプルで効率的な導入
* ユーザーフレンドリーな Web ベースの管理インターフェイスと、ライブ マイグレーションやバックアップ オプションなどの機能。




==== 統合

* iSCSI、NFS v3、v4.1、v4.2 を使用します。
* 高速クローン作成、スナップショット、レプリケーションなど、 ONTAPが提供する優れた機能をすべて利用できます。
* nconnect オプションを使用すると、NFS の負荷が高い場合にサーバーあたりの TCP 接続数を最大 16 まで増やすことができます。


Proxmox は次のような場合に意味があります:

* オープンソースなのでライセンスコストが不要です。
* 使いやすい Web インターフェースにより管理が効率化されます。
* 仮想マシンとコンテナの両方をサポートし、柔軟性を提供します。
* VM、コンテナ、ストレージ、ネットワークを管理するための単一のインターフェース
* 制限なしで機能にフルアクセス
* Credativによるプロフェッショナルなサービスとサポート




=== VMware Cloud サービス (Azure VMWare ソリューション、Google Cloud VMware Engine、VMware Cloud on AWS、Elastic VMware Service)

詳しく見てみましょう:

* VMware in the Cloud は、専用のベアメタル インフラストラクチャを使用して VMware インフラストラクチャをホストする、それぞれのハイパースケーラー データ センターでホストされる「プライベート クラウド」を提供します。
* vCenter、vSphere、vSAN、NSX などの VMware 機能を使用して、クラスタあたり最大 16 台のホストを許可します。
* 迅速な導入とスケールアップ/スケールダウン
* 柔軟な購入オプション: 時間単位のオンデマンド、1 年および 3 年の予約インスタンス、一部のハイパースケーラーでは 5 年のオプションも利用可能。
* オンプレミスの VMware からクラウド内の VMware への移行を支援する使い慣れたツールとプロセスを提供します。




==== 統合


NOTE: NetApp は、3 大ハイパースケーラーすべてにわたって、クラウド内で VMware がサポートするファースト パーティ統合型高性能ストレージを備えた唯一の外部ストレージ ベンダーです。

* 各クラウドのNetApp搭載ストレージ (Azure NetApp Files、FSx for ONTAP、Google Cloud NetAppボリューム) は、追加のコンピューティング ノードを追加する必要がなく、vSAN ストレージを補完します。
* 安定したパフォーマンス、従量制ファイルストレージサービス
* 効率的なスナップショットとクローンにより、大規模なコピーとチェックポイントの変更を迅速に作成します。
* 地域DRとバックアップのための効率的な増分ブロック転送ベースのレプリケーション
* ストレージ集約型アプリケーションは、 NetAppのクラウド ストレージをデータストアとして使用することで実行コストを削減できます。
* 外部データストア接続とは別に、ゲストが管理するNFSやiSCSIなどのゲスト所有のファイルシステムをマウントして、高パフォーマンスのワークロードに対応できる機能


VMware Cloud サービスに移行する理由:

* ストレージ集約型の導入では、コンピューティングノードを追加する代わりにストレージ容量をオフロードすることでコストを節約できます。
* Hyper-V、Azure Stack、さらにはネイティブVM形式への移行に比べて、必要なスキルアップは少なくて済みます。
* 最大 3 年または 5 年 (クラウド プロバイダーによって異なります) にわたって、他のライセンス コストの変更による影響を受けない価格を固定します。
* BYOL（独自のライセンス使用）カバレッジを提供
* オンプレミスからのリフトアンドシフトにより、重要な領域でのコストを削減できる可能性があります。
* 災害復旧機能をクラウドに構築または移行し、コストを削減して運用上の負担を軽減します。


災害復旧ターゲットとして任意のハイパースケーラー上の VMware Cloud を使用することを検討しているお客様の場合、 ONTAPストレージを利用したデータストア (Azure NetApp Files、FSx ONTAP、Google Cloud NetAppボリューム) を使用して、VM レプリケーション機能を提供する検証済みのサードパーティ ソリューションを使用してオンプレミスからデータを複製できます。 ONTAPストレージを搭載したデータストアを追加することで、ESXi ホストの数を減らして、宛先でのコストを最適化した災害復旧が可能になります。これにより、オンプレミス環境のセカンダリ サイトを廃止することも可能になり、大幅なコスト削減が可能になります。

* 詳細なガイダンスを見るlink:https://docs.netapp.com/us-en/netapp-solutions-cloud/vmware/vmw-aws-fsxn-vmc-ds-dr-veeam.html["FSx ONTAPデータストアへの災害復旧"^]。
* 詳細なガイダンスを見るlink:https://docs.netapp.com/us-en/netapp-solutions-cloud/vmware/vmw-azure-avs-dr-jetstream.html["Azure NetApp Filesデータストアへの災害復旧"^]。
* 詳細なガイダンスを見るlink:https://docs.netapp.com/us-en/netapp-solutions-cloud/vmware/vmw-gcp-gcve-app-dr-ds-veeam.html["Google Cloud NetApp Volumesデータストアへの災害復旧"^]。




=== クラウドネイティブ仮想マシン


NOTE: NetApp は、3 大ハイパースケーラーすべてにわたって、クラウド内でファースト パーティ統合の高性能マルチプロトコル ストレージを提供する唯一のベンダーです。

詳しく見てみましょう:

* 柔軟な仮想マシン サイズを使用してコンピューティング リソースを最適化し、特定のビジネス ニーズを満たし、不要な経費を削減します。
* クラウドの柔軟性により、将来へのスムーズな移行を実現します。  NetApp搭載ストレージを使用してクラウド ネイティブ仮想マシンに移行する理由:
* シンプロビジョニング、ストレージ効率、ゼロフットプリントクローン、統合バックアップ、ブロックレベルレプリケーション、階層化などのエンタープライズストレージ機能を活用して、移行作業を最適化し、初日から将来を見据えた導入を実現します。
* ONTAPを組み込み、それが提供するコスト最適化機能を使用することで、クラウド内のネイティブ クラウド インスタンスで使用されている現在のストレージ展開を最適化します。
* コスト削減能力
+
** ONTAPデータ管理技術の使用
** 多数のリソースの予約を通じて
** バースト可能なスポット仮想マシン経由


* AI/MLなどの最新テクノロジーを活用する
* 必要な IOP とスループット パラメータに合わせてクラウド インスタンスのサイズを適切に調整することで、ブロック ストレージ ソリューションと比較してインスタンスの総所有コスト (TCO) を削減します。




=== Azure Local、AWS Outpost、またはその他のHCIモデル

詳しく見てみましょう:

* 検証済みのソリューションで実行
* オンプレミスで導入してハイブリッドまたはマルチクラウドのコアとして機能できるパッケージ ソリューション。
* オンプレミス、クラウド、ハイブリッドなど、あらゆる環境に合わせてカスタマイズされたクラウド インフラストラクチャ、サービス、API、ツールへのアクセスをユーザーに提供します。



NOTE: HCI 互換のハードウェアを所有しているか、リース/購入する必要があります。


NOTE: Azureローカルは外部ストレージをサポートしていませんが、AWS OutpostはONTAPをサポートしています。

Azure Local または AWS Outpost に移行する理由:

* HCI対応ハードウェアをすでに所有している場合
* ワークロードの実行とデータ ストレージを制御します。
* ローカルデータの常駐要件を満たし、それぞれのサービス、ツール、API を使用してローカル地域でデータを処理します。
* ゲスト VM の iSCSI、NFS、SMB 接続にはゲスト接続ストレージを使用します。


短所

* すべてのオプションがSAN、NAS、またはスタンドアロンストレージ構成をサポートしているわけではありません
* ストレージとコンピューティングの独立したスケーリングをサポートしていない




=== 顧客環境で検討されているその他のハイパーバイザーオプション

* *KVM* は通常、親 Linux ディストリビューションごとにONTAPでサポートされます。参照 Linux についてはIMTを参照してください。
* *SUSE Harvester* は、Linux、KVM、Kubernetes、KubeVirt、Longhorn などのエンタープライズ グレードのオープン ソース テクノロジーを使用してベアメタル サーバー向けに構築された最新のハイパーコンバージド インフラストラクチャ (HCI) ソリューションです。  Harvester は、データ センターとエッジでクラウド ネイティブおよび仮想マシン (VM) ワークロードを実行するための柔軟で手頃なソリューションを求めているユーザー向けに設計されており、仮想化とクラウド ネイティブ ワークロード管理を一元的に提供します。  NetApp Astra Trident CSI ドライバーを Harvester クラスターに組み込むと、 NetAppストレージ システムは Harvester で実行されている仮想マシンで使用できるストレージ ボリュームを保存できるようになります。
* *Red Hat OpenStack Platform*、そして一般的に OpenStack も素晴らしいプライベート クラウド ソリューションであり、 NetApp Unified Driver がアップストリームの OpenStack コードに組み込まれているということは、 NetAppデータ管理統合が組み込まれていることを意味します。つまり、インストールするものは何もありません。ストレージ管理機能は、ブロック プロトコルの場合は NVMe、iSCSI、または FC、NAS の場合は NFS をサポートします。シン プロビジョニング、動的ストレージ管理、コピー オフロード、スナップショットはすべてネイティブでサポートされています。




==== 重要なポイント

ONTAP は、オンプレミスのあらゆるハイパーバイザーやクラウドのあらゆるワークロードに最適なプラットフォームです。 ONTAP はオンプレミス環境の主要なハイパーバイザーをサポートし、各クラウドでファーストパーティの製品を広く採用しています。これにより、顧客は適切な展開モデルをナビゲートすることで、ライセンスの変更を簡単に処理できるようになります。

image:virt-options-003.png["NetApp の仮想化における Any to Any アプローチを示す図"]

要約すると、VMware は引き続き、組織にとって事実上のハイパーバイザーであり続けます。ただし、すべての IT 組織は代替オプションを評価しており、どのオプションを選択する場合でもONTAP は重要な役割を果たします。



== 非常に高速（100倍高速）な移行



=== シフトツールキット

上で説明したように、VMware、Microsoft Hyper-V、Proxmox、OpenShift Virtualization などのソリューションは、仮想化のニーズに対する堅牢で信頼性の高い選択肢となっています。ビジネス要件は動的であるため、仮想化プラットフォームの選択も適応性を持つ必要があり、仮想マシンの即時モビリティが重要になります。

あるハイパーバイザーから別のハイパーバイザーに移行するには、企業にとって複雑な意思決定プロセスが伴います。主な考慮事項には、アプリケーションの依存関係、移行のタイムライン、ワークロードの重要度、アプリケーションのダウンタイムがビジネスに与える影響などがあります。ただし、 ONTAPストレージと Shift ツールキットを使用すると、これは簡単に実行できます。

NetApp Shift ツールキットは、異なるハイパーバイザー間で仮想マシン (VM) を移行したり、仮想ディスク形式を変換したりできる、使いやすいグラフィカル ユーザー インターフェイス (GUI) ソリューションです。 NetApp FlexCloneテクノロジーを利用して、VM ハード ディスクを迅速に変換します。さらに、ツールキットは宛先 VM の作成と構成を管理します。

詳細については、link:../migration/shift-toolkit-overview.html["仮想化環境間での仮想マシン (VM) の移行 (Shift Toolkit)"] 。

image:virt-options-004.png["NetApp Shift Toolkit の変換オプションを示す図"]


NOTE: Shift ツールキットの前提条件は、 ONTAPストレージ上にある NFS ボリューム上で VM が実行されていることです。つまり、VM がブロック ベースのONTAPストレージ (具体的にはASA) またはサードパーティのストレージでホストされている場合は、Storage vMotion を使用して VM を指定されたONTAPベースの NFS データストアに移動する必要があります。  Shift ツールキットはここからダウンロードでき、Windows システムでのみ使用できます。



=== Cirrus データ移行オペレーション

Shift ツールキットの代替として、ブロック レベルのレプリケーションを利用するパートナー ベースのソリューションがあります。 Cirrus Data は、従来のハイパーバイザーから最新のプラットフォームにワークロードをシームレスに移行できるため、より柔軟なハイブリッド ワークロード、最新化の取り組みの加速、リソース使用率の向上が可能になります。link:https://action.cirrusdata.com/virtualization-optimization#:~:text=Migrate%20from%20leading%20hypervisors%20with%20just%20a%20click.,from%20Amazon%20Web%20Services%20%28AWS%29%20and%20Microsoft%20Azure.["Cirrus Migrate Cloud"]は、MigrateOps と連携して、安全で使いやすく信頼性の高いソリューションを使用して、組織がハイパーバイザー間の変更を自動化できるようにします。

*重要なポイント:* VM を VMware から別のハイパーバイザーに移行するには、複数の選択肢があります。いくつか例を挙げると、Veeam、Commvault、StarWind、SCVMM などがあります。ここでの目的は可能なオプションを紹介することですが、Shift ツールキットを使用すると、桁違いに高速な移行オプションが提供されます。シナリオに応じて、代替の移行オプションを採用できます。



== 共通プロジェクト展開モデル（マルチハイパーバイザ環境）

ある顧客は、10,000 台の VM (Windows と Linux のワークロードの混在) を備えた大規模な仮想化環境を所有していました。ライセンス コストを最適化し、仮想化インフラストラクチャの将来を簡素化するには、マルチハイパーバイザーと仮想マシンの配置戦略が重要でした。ワークロードの重要度、オペレーティング システムの種類、パフォーマンス要件、ハイパーバイザーの機能、ライセンス コストに基づいて、VM 配置戦略を選択しました。

整理するための戦略は、次の 3 つのハイパーバイザーに分割されました。

* VMware vSphere → ビジネスクリティカルなアプリケーションをサポートする重要なワークロードはVMware上に維持されます
* Microsoft Hyper-V → 5,000台のWindows VMをHyper-Vに移行し、Windowsライセンスのメリットを活用
* OpenShift Virtualization → コスト効率と Kubernetes ネイティブ管理のために、3,000 台の Linux VM がここに移行します。


このマルチハイパーバイザー アプローチは、コスト、パフォーマンス、柔軟性のバランスを取り、重要なワークロードが VMware 上に維持され、Windows および Linux ワークロードが Shift ツールキットを使用して最適化されたハイパーバイザー プラットフォームに移行し、効率性とスケーラビリティが向上します。上記は一例ですが、環境を最適化するために各アプリケーション レベルで適用できるさまざまな順列と組み合わせがあります。



== まとめ

Broadcom の買収を受けて、VMware の顧客は統合、パフォーマンスの最適化、コスト管理という複雑な状況に対処しています。 NetApp は、これらの課題を克服するための強力なツールと機能のスイートを提供し、強化された可視性、シームレスな統合、コスト効率、堅牢なセキュリティを実現します。これらの機能を使用することで、VMware を継続して使用し、マルチベンダー アプローチを実現し、将来の混乱に備えることができます。

VMware Cloud Foundation 5.2.1 以降を活用することで、企業は vSAN に限定されずに最新のプライベート クラウド プラクティスを導入できます。これにより、 ONTAPストレージへの投資を保護しながら、既存の vSphere 環境からのシームレスな移行が可能になります。

さらに、マルチハイパーバイザー戦略を統合することで、組織は仮想化ロードマップを制御し、コストを削減し、各ワークロードの固有のニーズに合わせてインフラストラクチャをカスタマイズできるようになります。 Hyper-V、OpenShift Virtualization、Proxmox、KVM はそれぞれ独自の利点を提供します。最適なものを決定するには、予算、既存のインフラストラクチャ、パフォーマンス要件、サポート ニーズなどの要素を評価します。どのハイパーバイザー プラットフォームを選択しても、オンプレミスでもクラウドでも、 ONTAP は最適なストレージです。
