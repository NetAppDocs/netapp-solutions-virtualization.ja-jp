---
sidebar: sidebar 
permalink: assess/vmw-vmdc.html 
keywords: vmware, vm, data, collector, vmdc 
summary: '仮想マシン データ コレクター (VMDC) は、VMware 環境向けの無料かつ軽量でシンプルな GUI ベースのツールキットであり、ユーザーはこれを使用して仮想マシン (VM)、ホスト、ストレージ、およびネットワークに関する詳細なインベントリ情報を収集できます。' 
---
= 仮想マシンデータコレクター (VMDC)
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
仮想マシン データ コレクター (VMDC) は、VMware 環境向けの無料かつ軽量でシンプルな GUI ベースのツールキットであり、ユーザーはこれを使用して仮想マシン (VM)、ホスト、ストレージ、およびネットワークに関する詳細なインベントリ情報を収集できます。


NOTE: *これは VMDC のプレビュー リリースです。*



== 概要

VMDC の主な機能は、クラスタ構成、ネットワーク、ストレージ、パフォーマンス データなど、vCenter、ESXi サーバー、および vSphere 環境に存在する仮想マシン (VM) の構成を報告することです。包括的な環境データが収集されると、それを利用してインフラストラクチャに関する洞察に富んだ情報を作成できます。レポート出力の表示は、さまざまなセクションに複数のタブがあるスプレッドシート スタイルの GUI です。読みやすいレポートを提供し、リソースの使用を最適化し、容量を計画するのに役立ちます。

VMDC は、VMWare コア ライセンス、vCPU、RAM の最適化の可能性を予測するための統計を迅速かつ即時に収集するための足がかりにすぎません。link:https://docs.netapp.com/us-en/data-infrastructure-insights/["NetAppData Infrastructure Insights"] AU とデータ コレクターのインストールを必要とするこのプロセスは、詳細な VM トポロジを理解し、アノテーションを使用して VM をグループ化し、ワークロードのサイズを適正化してインフラストラクチャを将来に備えるための次のステップであることは明らかです。

VMDCはダウンロード可能link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["ここをクリックしてください。"]Windows システムでのみ利用可能です。



== VMDCのインストールと設定

VMDC は Windows 2019、2022 バージョンで実行できます。前提条件として、VMDC インスタンスから指定された vCenter サーバーへのネットワーク接続が必要です。確認が完了したら、VMDCパッケージを以下からダウンロードします。link:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["NetAppツールチェスト"]パッケージを解凍し、バッチ ファイルを実行してサービスをインストールおよび開始します。

VMDC がインストールされたら、インストール中に指定された IP アドレスを使用して UI にアクセスします。これにより、VMDC ログイン インターフェイスが起動し、vCenter Server の IP アドレスまたは DNS 名と資格情報を入力して vCenter を追加できます。

. ダウンロードlink:https://mysupport.netapp.com/site/tools/tool-eula/vm-data-collector["VMDCパッケージ"]。
+
image:vmdc-001.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. パッケージを指定されたフォルダに抽出します。
+
image:vmdc-002.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. Start_VMDC バッチ ファイルをクリックして VMDC パッケージを実行します。これによりコマンドプロンプトが開き、IP アドレスの入力を求められます。
+
image:vmdc-003.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. インストーラーはインストール プロセスを開始し、VMDC サービスを開始します。
+
image:vmdc-004.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

+
image:vmdc-005.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

. 完了したら、「続行するには任意のキーを押してください」と入力してコマンド プロンプトを閉じます。
+
image:vmdc-006.png["入出力ダイアログまたは書かれたコンテンツを示す図"]




NOTE: データ収集を停止するには、Stop_VMDC バッチ ファイルをクリックします。


NOTE: 収集されたデータを削除して VMDC をリセットするには、reset_VMDC バッチ ファイルを実行します。リセット bat ファイルを実行すると、既存のデータがすべて削除され、最初からやり直されることに注意してください。

image:vmdc-007.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



== GUIを使用した手順



=== VMDCを実行する

* ブラウザを使用してVMDC UIにアクセスします
+
image:vmdc-008.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

* 「vCenter の追加」オプションを使用して、指定した vCenter を追加します。
+
** vCenter名 - vCenterの名前を入力します
** エンドポイント - vCenter ServerのIPアドレスまたはFQDNを入力します
** ユーザー名 - vCenter にアクセスするためのユーザー名 (UPN 形式: username@domain.com)
** パスワード


* 要件に応じて「追加の詳細」を変更します
+
** データ間隔時間 - サンプルの集約時間範囲を指定します。デフォルトは 5 分ですが、必要に応じて 30 秒または 1 分に変更できます。
** データ保持 – 履歴メトリックを保存する保持期間を指定します。
** パフォーマンス メトリックの収集 – 有効にすると、各 VM のパフォーマンス メトリックが収集されます。選択されていない場合、VMDC は VM、ホスト、およびデータストアの詳細を提供するだけで RVtools のような機能を提供します。


* 完了したら、「vCenter の追加」をクリックします。
+
image:vmdc-009.png["入出力ダイアログまたは書かれたコンテンツを示す図"]




NOTE: vCenter が追加されるとすぐにデータ収集が開始されます。プロセスは vCenter データベースで利用可能なデータを取得し、指定された「データ間隔時間」に基づいてそれらの集約を開始するため、収集の時間をスケジュールする必要はありません。

特定の vCenter のデータを表示するには、ダッシュボードに移動し、適切な vCenter 名に対して [インベントリの表示] をクリックします。このページには、VM インベントリと VM 属性が表示されます。デフォルトでは、UI で「パフォーマンス メトリック」は無効になっていますが、切り替えオプションを使用してオンにすることができます。パフォーマンス メトリックを有効にすると、各 VM に対するパフォーマンス データが表示されます。ライブパフォーマンス情報については、更新ボタンをクリックしてください。



=== VMトポロジの表示

VMDC は各 VM に「トポロジの表示」オプションを提供し、VM ディスク、VM、ESXi ホスト、データストア、ネットワークに関するリソースとその関係を表示するためのインタラクティブ インターフェイスを提供します。収集されたパフォーマンス データからの洞察を活用して管理および監視するのに役立ちます。トポロジは、現在のデータを使用して基本的な診断を実行し、問題をトラブルシューティングするのに役立ちます。詳細なトラブルシューティングと迅速なMTTRについては、link:https://docs.netapp.com/us-en/data-infrastructure-insights/["NetAppData Infrastructure Insights"]エンドツーエンドの依存関係マッピングを備えた詳細なトポロジ ビューを提供します。

トポロジ ビューにアクセスするには、次の手順に従います。

* VMDC ダッシュボードにアクセスします。
* vCenter 名を選択し、「インベントリの表示」をクリックします。
+
image:vmdc-010.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

* VM を選択し、「トポロジの表示」をクリックします。
+
image:vmdc-011.png["入出力ダイアログまたは書かれたコンテンツを示す図"]





=== Excelにエクスポート

収集した情報を使用可能な形式でキャプチャするには、「レポートのダウンロード」オプションを使用して XLSX ファイルをダウンロードします。

レポートをダウンロードするには、以下の手順に従ってください。

* VMDC ダッシュボードにアクセスします。
* vCenter 名を選択し、「インベントリの表示」をクリックします。
+
image:vmdc-012.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

* 「レポートをダウンロード」オプションを選択します
+
image:vmdc-013.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

* 時間範囲を選択します。時間範囲には、4 時間から 7 日までの複数のオプションがあります。
+
image:vmdc-014.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



たとえば、必要なデータが過去 4 時間のデータである場合は、4 を選択するか、適切な値を選択して、その期間のデータを取得します。生成されたデータは継続的に集計されます。したがって、生成されるレポートに必要なワークロード統計が確実に記録されるように、時間範囲を選択してください。



=== VMDC データカウンター

ダウンロードされると、VMDC が最初に表示するシートは「VM 情報」です。このシートには、vSphere 環境に存在する VM に関する情報が含まれています。これには、仮想マシンに関する一般的な情報が表示されます: VM 名、電源状態、CPU、プロビジョニングされたメモリ (MB)、使用メモリ (MB)、プロビジョニングされた容量 (GB)、使用容量 (GB)、VMware ツールのバージョン、OS のバージョン、環境タイプ、データセンター、クラスター、ホスト、フォルダー、プライマリ データストア、ディスク、NIC、VM ID、VM UUID。

「VM パフォーマンス」タブでは、選択した間隔レベル (デフォルトは 5 分) でサンプリングされた各 VM のパフォーマンス データがキャプチャされます。各仮想マシンのサンプルには、平均読み取り IOPS、平均書き込み IOPS、合計平均 IOPS、ピーク読み取り IOPS、ピーク書き込み IOPS、合計ピーク IOPS、平均読み取りスループット (KB/秒)、平均書き込みスループット (KB/秒)、合計平均スループット (KB/秒)、ピーク読み取りスループット (KB/秒)、ピーク書き込みスループット (KB/秒)、合計ピーク スループット (KB/秒)、平均読み取りレイテンシ (ミリ秒)、平均書き込みレイテンシ (ミリ秒)、合計平均レイテンシ (ミリ秒)、ピーク読み取りレイテンシ (ミリ秒)、ピーク書き込みレイテンシ (ミリ秒)、合計ピーク レイテンシ (ミリ秒) が含まれます。

「ESXi ホスト情報」タブには、各ホストのデータセンター、vCenter、クラスター、OS、製造元、モデル、CPU ソケット、CPU コア、ネット クロック速度 (GHz)、CPU クロック速度 (GHz)、CPU スレッド、メモリ (GB)、メモリ使用量 (%)、CPU 使用率 (%)、ゲスト VM 数、NIC 数が記録されます。



=== 次のステップ

ダウンロードした XLSX ファイルを最適化とリファクタリングの演習に使用します。



== VMDC属性の説明

このドキュメントのセクションでは、Excel シートで使用される各カウンターの定義について説明します。

*VM情報シート*

image:vmdc-015.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

*VMパフォーマンスシート*

image:vmdc-016.png["入出力ダイアログまたは書かれたコンテンツを示す図"]

*ESXi ホスト情報*

image:vmdc-017.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



== まとめ

ライセンスの変更が迫っているため、組織は総所有コスト (TCO) の潜在的な増加に積極的に対処しています。同社は、積極的なリソース管理と適正化を通じて VMware インフラストラクチャを戦略的に最適化し、リソース使用率を高め、容量計画を合理化しています。専用ツールを効果的に使用することで、組織は無駄なリソースを効率的に特定して再利用することができ、結果としてコア数と全体的なライセンス費用を削減できます。  VMDC は、スライスして既存の環境をレポートおよび最適化できる VM データを迅速に収集する機能を提供します。

VMDC を使用して、使用率の低いリソースを特定するための迅速な評価を実施し、 NetApp Data Infrastructure Insights (DII) を使用して VM 再利用に関する詳細な分析と推奨事項を提供します。これにより、お客様は、 NetApp Data Infrastructure Insights (DII) を導入および構成する際に、潜在的なコスト削減と最適化を把握できるようになります。NetApp Data Infrastructure Insights (DII) は、企業が VM 環境の最適化について情報に基づいた意思決定を行うのに役立ちます。生産への影響を最小限に抑えながらリソースを再利用したりホストを廃止したりできる場所を特定できるため、Broadcom による VMware の買収によってもたらされた変化に企業が慎重かつ戦略的に対応できるようになります。言い換えれば、詳細な分析メカニズムとしての VMDC と DII は、企業が感情を排除して意思決定を行うのに役立ちます。企業は、変化に対してパニックや不満を抱くのではなく、これら 2 つのツールによって提供される洞察を活用して、コストの最適化と運用効率および生産性のバランスをとる合理的かつ戦略的な意思決定を行うことができます。

NetAppを使用すると、仮想化環境を適切なサイズに調整し、コスト効率の高いフラッシュ ストレージ パフォーマンスと簡素化されたデータ管理およびランサムウェア ソリューションを導入して、組織が新しいサブスクリプション モデルに備えながら、現在配置されている IT リソースを最適化できるようになります。

image:vmdc-018.png["入出力ダイアログまたは書かれたコンテンツを示す図"]



== 次のステップ

VMDCパッケージをダウンロードしてデータを収集し、使用するlink:https://tco.solutions.netapp.com/vmwntaptco/["vSAN TCO 見積もりツール"]簡単に投影して使用するためにlink:https://docs.netapp.com/us-en/data-infrastructure-insights/task_cloud_insights_onboarding_1.html["DII"]継続的にインテリジェンスを提供し、現在および将来の IT に影響を与えて、新たなニーズの発生に適応できるようにします。
